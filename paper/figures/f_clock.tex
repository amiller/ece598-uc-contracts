\begin{bbox}[title={\textbf{Functionality} $\F_{\msf{clock}} (\mathcal{P})$}]

Intialize $\forall p_i \in \mathcal{P}: d_i := 0$

\vspace{2mm} \hrule \vspace{2mm}

-- \OnInput \inmsg{RoundOK} from \Partyi:

	\qquad $d_i = 1$

	\qquad If $\forall p_i \in \mathcal{P}: d_i = 1$:

	\qquad \quad $d_i := 0$ for all $p_i \in \mathcal{P}$

	\qquad \Leak $(\msf{switch},\mathbf{P_i}) \rightarrow \mathcal{A}$

-- \OnInput \inmsg{RequestRound} from \Partyi: 

	\qquad \Send $d_i \rightarrow \mathbf{P_i}$

-- \OnInput \inmsg{corrupt}{$p_i$} from $\mathcal{A}$:

	\qquad Set $\mathcal{H} := \mathcal{H} \cup \{p_i\}$

\end{bbox}

