\begin{figure}[h]
	\input{figures/u_pay}
	\caption{Update function for a payment channel. Given as a parameter to \Fstate. It defines the format of the \msf{state} and its updates.}
\end{figure}

\begin{figure}[h]
	\input{figures/contract_pay}
	\caption{Contract pay}
\end{figure}

\begin{figure}[h]
	\input{figures/p_pay}
	\caption{Local protocol for parties to follow for a payment channel between two parties. Parties can pay, deposit into, or withdraw from the channel.}
\end{figure}

\begin{figure}[h]
	\input{figures/f_state}
	\caption{The ideal functionality \Fstate. The functionality proceeds in rounds and waits for parties to provide input. When all parties have provided input or the round deadline has passed, a state update is executed. Contract output is given to \Gledger in the form of a transaction. Parties must explicitly \msf{ping} the functionality in order to make progress. }
\end{figure}

\begin{figure}[h]
	\input{figures/f_pay}
	\caption{The payment channel functionality. Unlike $\Fstate$, doesn't need any notion of rounds until it must deal with on-chain transactions for deposits. Buffering for $O(\Delta)$ rounds implies the adversary can choose the number.}
\end{figure}

